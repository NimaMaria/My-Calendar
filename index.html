<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My-Calendar</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" type="image/png" sizes="192x194" href="images/android-chrome-512x512.png">
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo" aria-hidden="true">ğŸ—“ï¸</div>
      <div>
        <h1>My-Calendar</h1>
      </div>
    </div>
  </header>

  <!-- Notification permission banner â€” shown by JS when permission is "default"  -->
  <div id="notifBanner" class="notif-banner" hidden>
    <span>ğŸ”” Enable notifications to get reminders for your events â€” even when this tab is in the background.</span>
    <div class="notif-banner-actions">
      <button id="notifAllowBtn" class="btn primary" type="button">Enable Notifications</button>
      <button id="notifDismissBtn" class="btn ghost" type="button">Dismiss</button>
    </div>
  </div>

  <main class="wrap">
    <section class="panel">
      <div class="panel-head">
        <div>
          <h2>Calendar</h2>
          <p class="muted">Click a date to view events. Select an event to Edit/Delete from the side.</p>

          <div class="monthbar">
            <button id="prevBtn" class="btn" type="button" aria-label="Previous month">â†</button>
            
           <div class="month-year-group">
           <select id="monthSelect" class="month-select" aria-label="Select month">
  <option value="0">January</option>
  <option value="1">February</option>
  <option value="2">March</option>
  <option value="3">April</option>
  <option value="4">May</option>
  <option value="5">June</option>
  <option value="6">July</option>
  <option value="7">August</option>
  <option value="8">September</option>
  <option value="9">October</option>
  <option value="10">November</option>
  <option value="11">December</option>
</select>
           <select id="yearSelect" class="year-select" aria-label="Select year"></select>
           </div>

            <button id="nextBtn" class="btn" type="button" aria-label="Next month">â†’</button>
            <button id="todayBtn" class="btn ghost" type="button">Today</button>
          </div>
        </div>

          <div class="head-right">
            <input id="searchInput" class="search" type="search" placeholder="Search eventsâ€¦" />
            <button id="themeToggle" class="btn ghost" type="button">ğŸŒ™ Dark</button>
          </div>
        </div>

      <div class="dow">
        <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
      </div>

      <div id="grid" class="grid" aria-label="Calendar grid"></div>
    </section>

    <aside class="panel side">
      <div class="panel-head">
        <h2>Selected Day</h2>
        <p id="dayLabel" class="muted">â€”</p>
      </div>

      <div id="dayList" class="day-list"></div>

      <div class="panel-foot">
        <button id="addBtn" class="btn primary" type="button">+ Add Event</button>
        <button id="editBtn" class="btn" type="button">Edit</button>
        <button id="deleteSideBtn" class="btn danger" type="button">Delete</button>
        <button id="exportBtn" class="btn ghost" type="button">ğŸ“¥ Export</button>
        <button id="clearAllBtn" class="btn clear-custom" type="button">Clear All Events</button>
      </div>
    </aside>
  </main>

  <!-- Modal -->
  <div id="backdrop" class="backdrop" hidden></div>
  <dialog id="eventModal" class="modal" aria-labelledby="modalTitle">
    <form id="eventForm" class="modal-form" method="dialog">
      <div class="modal-head">
        <div>
          <div id="modalTitle" class="modal-title">New event</div>
          <div id="modalSub" class="modal-sub">â€”</div>
        </div>
        <button id="closeBtn" class="btn ghost" type="button" aria-label="Close">âœ•</button>
      </div>

      <div class="form">
        <label class="field">
          <span>Event name *</span>
          <input id="titleInput" required maxlength="60" placeholder="e.g., Birthday / Meeting" />
        </label>

        <div class="row">
          <label class="field">
            <span>Start date *</span>
            <input id="dateInput" type="date" required />
          </label>
          <label class="field">
            <span>End date</span>
            <input id="endDateInput" type="date" />
          </label>
        </div>

        <div class="row">
          <label class="field">
            <span>Start time (optional)</span>
            <input id="startInput" type="time" />
          </label>
          <label class="field">
            <span>End time (optional)</span>
            <input id="endInput" type="time" />
          </label>
        </div>

        <label class="field">
          <span>Description</span>
          <textarea id="descInput" rows="3" maxlength="500" placeholder="Optional notes"></textarea>
        </label>

        <div class="row">
          <label class="field">
            <span>Reminder</span>
            <select id="remindInput">
              <option value="off">Off</option>
              <option value="popup">Popup (day-of alert on open)</option>
              <option value="60">ğŸ”” Notify 1 hour before</option>
              <option value="30">ğŸ”” Notify 30 mins before</option>
              <option value="15">ğŸ”” Notify 15 mins before</option>
            </select>
            <div class="hint">Passive (ğŸ””) reminders fire as OS notifications even when the tab is backgrounded. Requires notification permission.</div>
          </label>
  
          <label class="field">
            <span>Color</span>
            <select id="colorInput">
              <option value="default">Default</option>
              <option value="red">Red</option>
              <option value="blue">Blue</option>
              <option value="green">Green</option>
            </select>
          </label>
        </div>

        <div id="conflictBox" class="callout warn" hidden>
          <b>Conflict detected</b>
          <div class="muted">This overlaps with another event on the same day/time.</div>
        </div>
      </div>

      <div class="modal-foot">
        <button id="deleteBtn" class="btn danger" type="button" hidden>Delete</button>
        <div class="spacer"></div>
        <button id="cancelBtn" class="btn ghost" type="button">Cancel</button>
        <button id="saveBtn" class="btn primary" type="submit">Save</button>
      </div>

      <input type="hidden" id="idInput" />
    </form>
  </dialog>

  <script src="app.js"></script>
</body>
</html>
